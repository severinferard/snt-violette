<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Pause dej' - La Cantoche</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
      integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
      crossorigin=""
    />
    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>

    <link rel="stylesheet" href="style.css" />
    <style>
      body {
      background-color: #FFFBFB;
    }
</style>
  </head>
  <body>
    <div id="main-container">
      <header>
        <a href="./index.html"><img src="./assets/logo.png" alt="Pause dej'" /></a>
      </header>
      <nav>
        <a href="la-pizza-du-dimanche-soir.html"><div class="link-card">La Pizza du Dimanche soir</div></a>
        <a href="le-ptit-auchan.html"><div class="link-card">Le Ptit Auchan</div></a>
        <a href="le-grand-auchan.html"><div class="link-card">Le Grand Auchan</div></a>
        <a href="le-jap.html"><div class="link-card">Le jap'</div></a>
        <a href="le-grec.html"><div class="link-card">Le Grec</div></a>
        <a href="pizza-break.html"><div class="link-card ">Pizza Break</div></a>
        <a href="la-cantoche.html"><div class="link-card link-card-selected">La cantoche</div></a>
      </nav>
      <div style="display: flex; height: 100vh;">
        <div class="establishment-container">
            <img src="./assets/la-cantochge.jpg" alt="" width="90%">

            <div class="presentation">
              La cantine est surement un des endroits les plus angoissant de l’école avec son odeur indéterminée qui flotte dans l’air et son niveau sonore toujours élevé. Malgré cela, elle offre un jolie choix d’entrée et de plats bien que d’après les sondages fait précédemment par nos équipe, la principale ressources des élèves soit du pain.
              <br><br> <div style="text-align: start !important;">Un autre gros point négqtif est le bruit, jugez en par vous même...</div>
              <audio controls>
                <source src="./assets/son_cantine.mp3" type="audio/mp3">
                Votre navigateur ne supporte pas les éléments sonores
              </audio>
            </div>
            
            <div id="map" style="height: 300px; width: 90%;"></div>
        </div>
        <div class="reviews-container">

            <div class="review-box">
                <div class="review-header">
                    <div class="review-name">Paul C</div>
                    <div class="review-date">24/05/22</div>
                </div>
                <div class="review-stars">
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star"></span>
                    <span class="fa fa-star"></span>
                    <span class="fa fa-star"></span>
                    <span class="fa fa-star"></span>
                </div>
                <div class="review-body">
                  accueil pas très chaleureux, restriction sur les des desserts car selon le chef c’est  « un dessert pas deux » alors qu’on paye 6.80* pour ça c’est aberrant
                </div>
                <div class="spacer"></div>
            </div>

            <div class="review-box">
              <div class="review-header">
                  <div class="review-name">Léa B </div>
                  <div class="review-date">24/05/222</div>
              </div>
              <div class="review-stars">
                  <span class="fa fa-star checked"></span>
                  <span class="fa fa-star"></span>
                  <span class="fa fa-star"></span>
                  <span class="fa fa-star"></span>
                  <span class="fa fa-star"></span>
              </div>
              <div class="review-body">
                c’est très injuste que les collégiens doivent attendre 1H dans la queue pour manger un repas froid
                alors que les lycéens eux passent en a peine 5 minutes , en tant que délégués de 4°6 je trouve ça inadmissible ; j’en ai parlé au responsable de niveau , j’attends sa réponse !!!

              </div>
              <div class="spacer"></div>
          </div>

          <div class="review-box">
            <div class="review-header">
                <div class="review-name">Jean-louis D </div>
                <div class="review-date">24/05/22</div>
            </div>
            <div class="review-stars">
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star "></span>
            </div>
            <div class="review-body">
              personnellement je trouve ca assez correct , les entrés sont bien cuisinés et les repas souvent équilibrés bien que les dessert soit un poil trop sucrée pour moi ce qui m’empêchent de les manger dans leurs intégralité , malgré ça c’est une joyeuse cantine qui nous régale chaque midi.

            </div>
            <div class="spacer"></div>
        </div>



        <div class="new-review">
          <p>Partagez votre avis !</p>
          <textarea name="review" id="new-review-text" rows="7"></textarea>
          <div class="starts-wrapper">
          <div class="review-stars">
                <span class="fa fa-star star-editable"></span>
                <span class="fa fa-star star-editable"></span>
                <span class="fa fa-star star-editable"></span>
                <span class="fa fa-star star-editable"></span>
                <span class="fa fa-star star-editable checked"></span>
          </div>
        </div>
          <button class="save-btn">Enregistrer</button>
        </div>

        </div>
    </div>
    <div class="spacer"></div>
    <footer><strong>Ce site web constitue un projet pédagogique réalisé dans le cadre d'un cours de Sciences numériques et technologiques de 2nde.</strong><br> Une partie de avis affichés sur ce site provient de compte Google Buisness des établissements en question. Le contenue de ce site ainsi que les divers avis présentés n'ont en aucun cas visée diffamatoire. Pour toute réclamation, contactez Séverin FERARD severin.ferard@outlook.com</footer>
  
  </body>

  <script>
    coords = [48.98351 ,1.973754]
    var map = L.map("map").setView(coords, 14);
    var osmLayer = L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png", {
      attribution: "© OpenStreetMap contributors",
      maxZoom: 19,
    });
    map.addLayer(osmLayer);

    L.marker(coords)
      .addTo(map)
      .bindPopup("La Pizza du Dimanche Soir")
      .on("mouseover", function (e) {
        this.openPopup();
      })
      .on("mouseout", function (e) {
        this.closePopup();
      });
  </script>

  <script>
    rating = 1;

    stars = document.querySelectorAll('.star-editable')
    stars.forEach((star, i) => {
      star.addEventListener('click', e => {
        stars.forEach((s_, i_) => {
          rating = 5 - i
          console.log(rating)
          if (i_ >= i) {
            s_.classList.add('checked')
          } else {
            s_.classList.remove('checked')
          }
        })
      })
    });

    saveBtn = document.querySelector(".save-btn")
    saveBtn.addEventListener("click", e => {
      // Get user text
      text = document.querySelector("#new-review-text").value

      container = document.querySelector(".reviews-container")

      // Create new review
      newReview = document.createElement('div')
      newReview.classList.add('review-box')
      newReview.innerHTML = `
      <div class="review-box">
            <div class="review-header">
                <div class="review-name">Anonyme</div>
                <div class="review-date">${(new Date()).toLocaleDateString('fr-FR')}</div>
            </div>
            <div class="review-stars">
                <span class="fa fa-star ${rating >= 1 ? 'checked' : ''}"></span>
                <span class="fa fa-star ${rating >= 2 ? 'checked' : ''}"></span>
                <span class="fa fa-star ${rating >= 3 ? 'checked' : ''}"></span>
                <span class="fa fa-star ${rating >= 4 ? 'checked' : ''}"></span>
                <span class="fa fa-star ${rating >= 5 ? 'checked' : ''}"></span>
            </div>
            <div class="review-body">
              ${text}
            </div>
            <div class="spacer"></div>
        </div>
      `

      // Add new review to the container
      container.insertBefore(newReview, document.querySelector(".new-review"))

      // Reset text
      document.querySelector("#new-review-text").value = ''

      // Reset stars
      document.querySelectorAll('.star-editable').forEach((star, i) => {
        if (i < 4)
          star.classList.remove("checked")
      })


      
    })

  </script>
</html>
